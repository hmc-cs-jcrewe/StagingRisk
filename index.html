<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>The Dangers of Fracking </title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>

    <!-- Plugin CSS -->
    <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/creative.min.css" rel="stylesheet">

  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">Fracking Dangers</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#about">About Fracking</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#action">What can you do?</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#portfolio">See for youself</a> 
              <!-- Way to visualize the modern risks, portforlio of images -->
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <header class="masthead text-center d-flex">
      <div class="container my-auto">
        <div class="row">
          <div class="col-lg-10 mx-auto">
            <h1 class="text-uppercase">
              <strong>The Dangers of Fracking</strong>
            </h1>
            <hr>
          </div>
          <div class="col-lg-8 mx-auto">
            <p class="text-faded mb-5">Insert brief one-line description of disaster here </p>
            <a class="btn btn-primary btn-xl js-scroll-trigger" href="#about">Find Out More</a>
          </div>
        </div>
      </div>
    </header>

    <section class="bg-primary" id="about">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto text-center">
            <h2 class="section-heading text-white">Fracking </h2>
            <hr class="light my-4">
            <p class="text-faded mb-4"> Main staging information goes here </p>
            <a class="btn btn-light btn-xl js-scroll-trigger" href="#action">Want to Help?</a>
          </div>
        </div>
      </div>
    </section>

    <section id="action">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <h2 class="section-heading">What Can You Do?</h2>
            <p class = "text-muted mb-0"> Answer the questions below to find out what you can do about this disaster </p>
            <!-- Replace images with simple quiz answers that can help us tailor a call to action -->
            <hr class="my-4">
            
            <div class="quiz-container">
              <div id="quiz"></div>
            </div>
            <button id="previous">Previous Question</button>
            <button id="next">Next Question</button>
            <button id="submit">Submit Quiz</button>
            <br>
            <button id="repeat" style="visibility: hidden">Take Quiz Again</button>
            <div id="results"></div>
            
            
            <script> 
            // Built the skeleton for this quiz using code provided here: https://www.sitepoint.com/simple-javascript-quiz/
              (function() {
                // TODO - Change myQuestions to reflect disaster
                const myQuestions = [
                  {
                    question: "Have you seen fracking affect your local landscape, or are its effects less obvious?",
                    answers: {
                      a: "Close to home ",
                      b: "Far away ",
                    },
                    correctAnswer: "a"
                  },
                  {
                    question: "Are you involved with or comfortable with getting involved in your government or local community?",
                    answers: {
                      a: "Want to get involved",
                      b: "Already heavily involved",
                      c: "I'd rather not get involved in this way"
                    },
                    correctAnswer: "a"
                  },
                  {
                    question: "Do you want to take action with a group or alone?",
                    answers: {
                      a: "I'd prefer to not involve others",
                      b: "Lets get everyone involved",
                    },
                    correctAnswer: "a"
                  }
                ];
                
                function buildQuiz() {
                  // we'll need a place to store the HTML output
                  const output = [];
                
                  // for each question...
                  myQuestions.forEach((currentQuestion, questionNumber) => {
                    // we'll want to store the list of answer choices
                    const answers = [];
                  
                    // and for each available answer...
                    for (letter in currentQuestion.answers) {
                      // ...add an HTML radio button
                      answers.push(
                        `<div class = "border">
                        <label>
                           <input type="radio" name="question${questionNumber}" value="${letter}">
                            ${currentQuestion.answers[letter]}
                         </label>
                         </div>`
                      );
                    }
                  
                    // add this question and its answers to the output
                    output.push(
                      `<div class="slide">
                         <div class="question"> ${currentQuestion.question} </div>
                         <div class="answers"> ${answers.join("")} </div>
                       </div>`
                    );
                  });
                  // finally combine our output list into one string of HTML and put it on the page
                  quizContainer.innerHTML = output.join("");
                //}
              }
                function buildResponses() {
                  const outputResponse = []
                    outputResponse.push(
                      `<div class="slide" id="coalition">
                        <h3>Americans Against Fracking </h3>
                        <p> Pledge your support for this cause by signing up for the National Coalition to Ban Fracking. This coalition strives to make policy changes to protect the population against the dangers of fracking, and the larger the base they get the more political 
                        influence they gain. To sign up or sign petitions in support of the cause click <a href = "https://www.americansagainstfracking.org/take-action/"> here <\a> </p>
                      </div>`
                  );
                  outputResponse.push(
                      `<div class="slide" id="email">
                        <h3> Email or Call your local policy makers</h3>
                        <p> Let your opinion be heard by your representative. If representatives feel pressure from their constituents they 
                        are more likely to enact change. Find your representatives in the federal
                         government <a href = "https://www.usa.gov/elected-officials"> here </a></p> 
                      </div>`
                  );

                  outputResponse.push(
                      `<div class="slide" id="event">
                        <h3> Organize an Event</h3>
                        <p> Fracking directly affects you and your home, so organize a local event to raise awareness and support for fracking regulations. To find out more and get advice for how to organize these events, click <a href = "https://environmentamerica.org/sites/environment/files/cpn/fracking-toolkit/fighting-fracking-toolkit.html#event"> here <\a> </p> 
                      </div>`
                  );

                  quizContainer.innerHTML += outputResponse.join("")
                }
                // TODO - change this function to reveal another page which can 
                // Create another slide 
                // function showResults() {
                //   // gather answer containers from our quiz
                //   const answerContainers = quizContainer.querySelectorAll(".answers");
                
                //   // keep track of user's answers
                //   let numCorrect = 0;
                
                //   // for each question...
                //   myQuestions.forEach((currentQuestion, questionNumber) => {
                //     // find selected answer
                //     const answerContainer = answerContainers[questionNumber];
                //     const selector = `input[name=question${questionNumber}]:checked`;
                //     const userAnswer = (answerContainer.querySelector(selector) || {}).value;
                  
                //     // if answer is correct
                //     if (userAnswer === currentQuestion.correctAnswer) {
                //       // add to the number of correct answers
                //       numCorrect++;
                    
                //       // color the answers green
                //       answerContainers[questionNumber].style.color = "lightgreen";
                //     } else {
                //       // if answer is wrong or blank
                //       // color the answers red
                //       answerContainers[questionNumber].style.color = "red";
                //     }
                //   });
                
                // }
                function showResults() {
                  slides[currentSlide].classList.remove("active-slide"); 
                  prev = document.getElementById("previous");
                  next = document.getElementById("next");
                  show = document.getElementById("submit");
                  again = document.getElementById("repeat");
                  prev.style.display = "none";
                  next.style.display = "none";
                  show.style.display = "none";
                  again.style.visibility= "visible";
                  answerList = [];
                  const answerContainers = quizContainer.querySelectorAll(".answers");
                  myQuestions.forEach((currentQuestion, questionNumber) => {
                    const answerContainer = answerContainers[questionNumber];
                    const selector = `input[name=question${questionNumber}]:checked`;
                    const userAnswer = (answerContainer.querySelector(selector) || {}).value;
                    answerList += userAnswer
                  });
                  console.log(answerList)
                  //Get the slides that are answers 
                  const eventSlide = document.getElementById("event")
                  const petitionSlide = document.getElementById("coalition")
                  const emailSlide = document.getElementById("email")
                  if (answerList[1] == 'c') { // Don't want to deal with gov means petition
                    petitionSlide.classList.add("active-slide")
                    currentSlide = Array.from(slides).indexOf(petitionSlide)
                  }
                  else { // Willing to deal with gov & community/ no response 
                    if (answerList[2] == 'a') {//Prefer to work alone -- call / email reps 
                      emailSlide.classList.add("active-slide")
                      currentSlide = Array.from(slides).indexOf(emailSlide)
                    } 
                    else { // Prefers to interact with people 
                      if (answerList[0] == 'a'){ //Close by
                        eventSlide.classList.add("active-slide")
                        currentSlide = Array.from(slides).indexOf(eventSlide)

                      }
                      else{ // Far away 
                        emailSlide.classList.add("active-slide")
                        currentSlide = Array.from(slides).indexOf(emailSlide)
                      }
                    }

                  }
                }

                function resetQuiz() {
                  slides[currentSlide].classList.remove("active-slide");
                  showSlide(0)
                  again = document.getElementById("repeat")
                  again.style.cssText = "visibility:hidden";
                  const answerContainers = quizContainer.querySelectorAll(".answers");
                  myQuestions.forEach((currentQuestion, questionNumber) => {
                    const answerContainer = answerContainers[questionNumber];
                    const selector = `input[name=question${questionNumber}]:checked`;
                    const userAnswer = (answerContainer.querySelector(selector));
                    userAnswer.checked = false; //Resets all the selections
                  });
                  


                }
              
                function showSlide(n) {
                  slides[currentSlide].classList.remove("active-slide");
                  slides[n].classList.add("active-slide");
                  currentSlide = n;

                  if (currentSlide === 0) {
                    previousButton.style.display = "none";
                  } else {
                    previousButton.style.display = "inline-block";
                  }

                  if (currentSlide === myQuestions.length - 1) {
                    nextButton.style.display = "none";
                    submitButton.style.display = "inline-block";
                  } else {
                    nextButton.style.display = "inline-block";
                    submitButton.style.display = "none";
                  }
                }
              
                function showNextSlide() {
                  showSlide(currentSlide + 1);
                }
              
                function showPreviousSlide() {
                  showSlide(currentSlide - 1);
                }
              
                const quizContainer = document.getElementById("quiz");
                const resultsContainer = document.getElementById("results");
                const submitButton = document.getElementById("submit");
                const resetButton = document.getElementById("repeat")
              
                // display quiz right away
                buildQuiz();

                //get the responses ready for display 
                buildResponses()
              
                const previousButton = document.getElementById("previous");
                const nextButton = document.getElementById("next");
                const slides = document.querySelectorAll(".slide");
                let currentSlide = 0;
              
                showSlide(0);
              
                // on submit, show results
                submitButton.addEventListener("click", showResults);
                previousButton.addEventListener("click", showPreviousSlide);
                nextButton.addEventListener("click", showNextSlide);
                resetButton.addEventListener("click", resetQuiz)

              })();
            </script>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row">

        </div>
      </div>
    </section>

    <section class="p-0" id="portfolio">
      <!-- Put images of the disaster here each with links to more information about that specific instance?-->
      <div class="container-fluid p-0">
        <div class="row no-gutters popup-gallery">
          
          <div class="col-lg-4 col-sm-6">
            <a class="portfolio-box" href="img/portfolio/fullsize/earthquake.jpg">
              <img class="img-fluid" src="img/portfolio/fullsize/earthquake.jpg" alt="">
              <div class="portfolio-box-caption">
                <div class="portfolio-box-caption-content">
                  <div class="project-category text-faded">
                    Earthquakes
                  </div>
                  <div class="project-name">
                    Fracking rigs damaging the earth's structual integrity increasing chances of earthquakes
                  </div>
                </div>
              </div>
            </a>
          </div>
          <div class="col-lg-4 col-sm-6">
            <a class="portfolio-box" href="img/portfolio/fullsize/fireWater.jpg">
              <img class="img-fluid" src="img/portfolio/fullsize/fireWater.jpg" alt="">
              <div class="portfolio-box-caption">
                <div class="portfolio-box-caption-content">
                  <div class="project-category text-faded">
                    Water Pollutants 
                  </div>
                  <div class="project-name">
                    In certain areas fracking pollutes the water so much it becomes flammable
                  </div>
                </div>
              </div>
            </a>
          </div>
          <div class="col-lg-4 col-sm-6">
            <a class="portfolio-box" href="img/portfolio/fullsize/frackWater.jpg">
              <img class="img-fluid" src="img/portfolio/fullsize/frackWater.jpg" alt="">
              <div class="portfolio-box-caption">
                <div class="portfolio-box-caption-content">
                  <div class="project-category text-faded">
                    Water Pollutants
                  </div>
                  <div class="project-name">
                     Even if the water isn't flammable, the pollutants still contaminate drinking water 
                  </div>
                </div>
              </div>
            </a>
          </div>
          <div class="col-lg-4 col-sm-6">
            <a class="portfolio-box" href="img/portfolio/fullsize/methaneFrack.jpg">
              <img class="img-fluid" src="img/portfolio/fullsize/methaneFrack.jpg" alt="">
              <div class="portfolio-box-caption">
                <div class="portfolio-box-caption-content">
                  <div class="project-category text-faded">
                    Methane
                  </div>
                  <div class="project-name">
                    Fracking rigs release flamable methane into the air hurting climate change
                  </div>
                </div>
              </div>
            </a>
          </div>
          <div class="col-lg-4 col-sm-6">
            <a class="portfolio-box" href="img/portfolio/fullsize/keepFrackOut.jpg">
              <img class="img-fluid" src="img/portfolio/fullsize/keepFrackOut.jpg" alt="">
              <div class="portfolio-box-caption">
                <div class="portfolio-box-caption-content">
                  <div class="project-category text-faded">
                    Get Involved 
                  </div>
                  <div class="project-name">
                    Grassroots movements can help enforce stricter regulations to help reduce environmental damange from fracking rigs
                  </div>
                </div>
              </div>
            </a>
          </div>
          <div class="col-lg-4 col-sm-6">
            <a class="portfolio-box" href="img/portfolio/fullsize/glassHalfClean.jpg">
              <img class="img-fluid" src="img/portfolio/fullsize/glassHalfClean.jpg" alt="">
              <div class="portfolio-box-caption">
                <div class="portfolio-box-caption-content">
                  <div class="project-category text-faded">
                    Power of Misconception
                  </div>
                  <div class="project-name">
                    The industry players take advantage of miscommunication and confusion to mitigate public outcry
                  </div>
                </div>
              </div>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="vendor/scrollreveal/scrollreveal.min.js"></script>
    <script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/creative.min.js"></script>

  </body>

</html>
